<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<title data-react-helmet="true">Feature Extraction | Documentation</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://docs.snappyflow.io//docs/Log_management/feature_extraction"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Feature Extraction | Documentation"><meta data-react-helmet="true" name="description" content="Feature Extraction allows processing of  unstructured logs and enhances it by adding metadata extracted from the  log. Users can provide extractions rules for specific logs using REGEX  patterns. Search patterns as explained in the Log Overview Search  section, are used to uniquely identify the logs, to which a specific  extraction rule is applied."><meta data-react-helmet="true" property="og:description" content="Feature Extraction allows processing of  unstructured logs and enhances it by adding metadata extracted from the  log. Users can provide extractions rules for specific logs using REGEX  patterns. Search patterns as explained in the Log Overview Search  section, are used to uniquely identify the logs, to which a specific  extraction rule is applied."><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://docs.snappyflow.io//docs/Log_management/feature_extraction"><link data-react-helmet="true" rel="alternate" href="https://docs.snappyflow.io//docs/Log_management/feature_extraction" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://docs.snappyflow.io//docs/Log_management/feature_extraction" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.88480231.css">
<link rel="preload" href="/assets/js/runtime~main.e213df21.js" as="script">
<link rel="preload" href="/assets/js/main.ef135cbf.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://www.snappyflow.io/" target="_self" rel="noopener noreferrer" class="navbar__brand"><img src="/img/logo-new.png" alt="SnappyFlow" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo-new.png" alt="SnappyFlow" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title"></b></a><a class="navbar__item navbar__link navbar__link--active" target="_self" href="/">Docs</a></div><div class="navbar__items navbar__items--right"><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">🌞</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Search" aria-label="Search" class="navbar__search-input search-bar"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist" href="#">Quick Start Guide</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Quick_Start/getting_started">Getting Started</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Integrations/os/linux/sfagent_linux">sfAgent Installation on Linux</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Integrations/os/windows/sfagent_windows">sfAgent Installation on Windows</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Integrations/kubernetes/sfkubeagent_installation">Monitoring Application Pods with sfKubeAgent</a></li></ul></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Tracing</a></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist" href="#">Integrations</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Integrations/overview">Overview</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">JAVA</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Nginx</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Kubernetes</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Postgres</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">MySQL</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Apache</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Operating Systems</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">StatsD</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Integrations/activemq">ActiveMQ</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Go</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Kafka</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Integrations/zookeeper">ZooKeeper</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Integrations/mongodb">MongoDB</a></li></ul></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Log Management</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Log_management/log_overview">Log Overview Search</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/Log_management/feature_extraction">Feature Extraction</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Log_management/archival">Archival</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Log_management/log_signatures">Log Signatures</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Log_management/etl_jobs">ETL Jobs</a></li></ul></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Dashboards</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Alerts &amp; Notifications</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Feature Extraction</h1></header><p>Feature Extraction allows processing of  unstructured logs and enhances it by adding metadata extracted from the  log. Users can provide extractions rules for specific logs using REGEX  patterns. Search patterns as explained in the Log Overview Search  section, are used to uniquely identify the logs, to which a specific  extraction rule is applied.</p><p>For example consider the following log message:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">Invalid user dsp from 221.12.107.26 port 32041</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The above log has the following metadata embedded in it, &lt;username&gt;, &lt;hostaddress&gt; and the &lt;sourceport&gt; as highlighted below:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">Invalid user dsp from 221.12.107.26 port 32041</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>To identify this log message, a search <em>string invalid &amp;&amp; from &amp;&amp; port</em> can be used. To extract the &lt;username&gt; from this log, extraction operators, EV or EP or EG can be used.</p><p>EV – extract values, extract values identified by a REGEX pattern from a field and save it in new user defined fields</p><p>EG – extract a group of values from a field identified by REGEX pattern groups and save it in new user defined fields</p><p>EP –  extract key value pairs from a field, user specifies REGEX to identify  the separator between key and value and also the separator between  key-value pairs</p><p>These will be explained in more details in the following sections.</p><p>General syntax for feature extraction is:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">[&lt;field&gt;:&lt;search string&gt; with] EV(…..)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">[&lt;field&gt;:&lt;search string&gt; with] EG(…..)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">[&lt;field&gt;:&lt;search string&gt; with] EP(…..)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Note that if the extraction is qualified by a search, “<em>with EV</em>” or “with EG” or “<em>with EP</em>” should be used to define the extraction operation. If there is no search string, “<em>EV</em>” or “<em>EG</em>” or “<em>EP</em>” can be used to define the extraction operation.</p><p>SnappyFlow provides a list of buit-in regex patterns, commonly used for  extraction. These built-in pattern names can be used in place of REGEX.  Built-in patterns and their usage is explained in later sections.</p><p><strong>Extract Values</strong></p><p>In the above example, to extract &lt;username&gt;, the following can be done:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">Invalid &amp;&amp; user &amp;&amp; port with EV(message,/(?&lt;=user )\w+/,string,username)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The Extract-Value (EV) construct, uses 4 parameters, <em>field, pattern, type, name(s)</em>.</p><table><thead><tr><th>Parameter</th><th>Use</th></tr></thead><tbody><tr><td>field</td><td>field name to which the extraction is applied, in this case message field of the log</td></tr><tr><td>pattern</td><td>REGEX pattern which identifies the extraction, in this case a REGEX string enclosed within “/”; /(?&lt;=user )\w+/. This pattern means, a word – string of alpha-numeric characters – which appears immediately after the string “user “</td></tr><tr><td>type</td><td>once the value is extracted, the type to be associated with the extracted value. The field/value pair created in the JSON, will use this information.</td></tr><tr><td>name(s)</td><td>field names coma separated; extraction pattern may match multiple positions in the log message. Each matched value is extracted and stored in the same order as they are matched. If a specific value should be skipped, then use “-“ as the field name.</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="examples"></a>Examples<a class="hash-link" href="#examples" title="Direct link to heading">#</a></h3><p><strong>Example 1</strong></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token constant" style="color:#36acaa">EV</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">message</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token regex regex-delimiter" style="color:#36acaa">/</span><span class="token regex regex-source language-regex" style="color:#36acaa">\d+\.\d+\.\d+\.\d+</span><span class="token regex regex-delimiter" style="color:#36acaa">/</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> string</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ip_addr</span><span class="token punctuation" style="color:#393A34">)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Extract IP address from field message.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json"><pre tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token property" style="color:#36acaa">&quot;message&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;DHCPACK from 172.31.32.1 (xid=0x381e913e)&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">“ip_addr”</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> “</span><span class="token number" style="color:#36acaa">172.31</span><span class="token plain">.</span><span class="token number" style="color:#36acaa">32.1</span><span class="token plain">”</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token property" style="color:#36acaa">&quot;message&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;DHCPREQUEST on eth0 to 172.31.32.1 port 67 (xid=0x381e913e)&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> “ip_addr”</span><span class="token operator" style="color:#393A34">:</span><span class="token plain">“</span><span class="token number" style="color:#36acaa">172.31</span><span class="token plain">.</span><span class="token number" style="color:#36acaa">32.1</span><span class="token plain">”</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token property" style="color:#36acaa">&quot;message&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Received disconnect from 167.114.226.137 port 47545:11: [preauth]&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> “ip_addr”</span><span class="token operator" style="color:#393A34">:</span><span class="token plain">“</span><span class="token number" style="color:#36acaa">167.114</span><span class="token plain">.</span><span class="token number" style="color:#36acaa">226.137</span><span class="token plain">”</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token property" style="color:#36acaa">&quot;message&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Disconnected from 167.71.217.175 port 46180 [preauth]&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">“ip_addr”</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> “</span><span class="token number" style="color:#36acaa">167.71</span><span class="token plain">.</span><span class="token number" style="color:#36acaa">217.175</span><span class="token plain">”</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token property" style="color:#36acaa">&quot;message&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Received disconnect from 51.91.159.46 port 33914:11: [preauth]&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">“ip_addr”</span><span class="token operator" style="color:#393A34">:</span><span class="token plain">“</span><span class="token number" style="color:#36acaa">51.91</span><span class="token plain">.</span><span class="token number" style="color:#36acaa">159.46</span><span class="token plain">”</span><span class="token punctuation" style="color:#393A34">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p><strong>Example 2</strong></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token constant" style="color:#36acaa">EV</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">log_msg</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token regex regex-delimiter" style="color:#36acaa">/</span><span class="token regex regex-source language-regex" style="color:#36acaa">\d+(.\d+)*(?=ms)</span><span class="token regex regex-delimiter" style="color:#36acaa">/</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> float</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> delay</span><span class="token punctuation" style="color:#393A34">)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Extract delay values from the field “log_msg”. Delay value is identified by the pattern (a) one digit string, immediately followed by string “ms” OR (b) two digit strings, each separated by “.” and second digit string is immediately followed by string “ms”. Save extracted value in field named delay.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json"><pre tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token property" style="color:#36acaa">&quot; log_msg&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Received request from 10.11.100.29 and re-directed to 33.229.79.17 in 10.34ms&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> “delay”</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10.34</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token property" style="color:#36acaa">&quot;log_msg&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Latency time is 5ms&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">“delay”</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token property" style="color:#36acaa">&quot;log_msg&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Process 2131 completed in 50s&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> – *nothing is extracted from this message*</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p><strong>Example 3</strong></p><p><em>(&quot;received request from&quot; &amp;&amp; &quot;re-directed&quot;) with EV(log_msg, /\d+.\d+.\d+.\d+/, string, -,rd_ip_addr)</em></p><p>Extract IP addresses from log_msg field. Skip the first extraction and save the second extraction to field named <em>rd_ip_addr</em>.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json"><pre tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token property" style="color:#36acaa">&quot;log_msg&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Received request from 10.11.100.29 and re-directed to 33.229.79.17 in 10.34ms&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">“rd_ip_addr”</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> &quot;</span><span class="token number" style="color:#36acaa">33.229</span><span class="token plain">.</span><span class="token number" style="color:#36acaa">79.17</span><span class="token plain">”</span><span class="token punctuation" style="color:#393A34">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="extract-group"></a>Extract Group<a class="hash-link" href="#extract-group" title="Direct link to heading">#</a></h3><p>Extract Group (EG) construct allow users to specify a pattern with multiple groups and extract the value of each group into a separate field. In Extract Value a single pattern contained a single group, but this single group could match multiple values in the field. This concept will be better understood through examples.</p><p>EG construct uses, following parameters:</p><table><thead><tr><th>Parameter</th><th>Use</th></tr></thead><tbody><tr><td>field</td><td>field name to which the extraction is applied, in this case message field of the log</td></tr><tr><td>pattern</td><td>REGEX pattern which identifies the extraction groups. Pattern is enclosed in a pair of “/”. In the REGEX pattern the group to be extracted is enclosed in parenthesis “()”.</td></tr><tr><td>name:type</td><td>a comma separated list of name:type tuples which specify name of the extracted group and its type. Type can be int, float or string. If no type is specified, it is assumed to be string.</td></tr></tbody></table><p><strong>Example 1</strong></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">EG(message, /(\d+.\d+.\d+.\d+) - \[(.*)\] &quot;(\w+) ([^\s]+) ([^\s&quot;]+)&quot; (\d+) (\d+) &quot;-&quot; &quot;(.*)&quot; &quot;-&quot;/, host, httpd_timestamp, method, path, header, code:int, size:int, agent)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The example illustrates extracting information from an nginx access log, which contains the host sending the request, time at which the request was received, HTTP method, request Path, header version, response code, size and the agent making request. The response code, and size are integer values, whereas the other extractions are string type values. Patterns corresponding to these groups are highlighted in the above EG construct.</p><p>Note: the group REGEX patterns are enclosed in “()”, strings matching each of those patterns are extracted and placed in the field name provided in the same order they appear.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json"><pre tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;message&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> &quot;</span><span class="token number" style="color:#36acaa">172.31</span><span class="token plain">.</span><span class="token number" style="color:#36acaa">31.45</span><span class="token plain"> - </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">06</span><span class="token plain">/May/</span><span class="token number" style="color:#36acaa">2020</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">11</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">44</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">41</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> \&quot;GET /owners/</span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> HTTP/</span><span class="token number" style="color:#36acaa">1.1</span><span class="token plain">\&quot; </span><span class="token number" style="color:#36acaa">200</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4964</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">\&quot;-\&quot; \&quot;Apache-HttpClient/</span><span class="token number" style="color:#36acaa">4.5</span><span class="token plain">.</span><span class="token number" style="color:#36acaa">7</span><span class="token plain"> (Java/</span><span class="token number" style="color:#36acaa">1.8</span><span class="token plain">.0_242)\&quot; \&quot;-\&quot; rt=</span><span class="token number" style="color:#36acaa">14.717</span><span class="token plain"> uct=</span><span class="token number" style="color:#36acaa">0.000</span><span class="token plain"> uht=</span><span class="token number" style="color:#36acaa">14.716</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">urt=</span><span class="token number" style="color:#36acaa">14.716</span><span class="token plain">&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;host&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> “</span><span class="token number" style="color:#36acaa">172.31</span><span class="token plain">.</span><span class="token number" style="color:#36acaa">31.45</span><span class="token plain">”</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;httpd_timestamp&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;06/May/2020:11:44:41&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;method&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;GET&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;path&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;/owners/2&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;header&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;HTTP/1.1&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;code&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">302</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;size&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4964</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;agent&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Apache-HttpClient/4.5.7 (Java/1.8.0_242)&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;message&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> &quot;</span><span class="token number" style="color:#36acaa">172.31</span><span class="token plain">.</span><span class="token number" style="color:#36acaa">81.81</span><span class="token plain"> - </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">06</span><span class="token plain">/May/</span><span class="token number" style="color:#36acaa">2020</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">11</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">44</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">41</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> \&quot;POST /owners/new HTTP/</span><span class="token number" style="color:#36acaa">1.1</span><span class="token plain">\&quot; </span><span class="token number" style="color:#36acaa">201</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">24</span><span class="token plain"> \&quot;-\&quot; \&quot;Mozilla/</span><span class="token number" style="color:#36acaa">5.0</span><span class="token plain"> (Windows NT </span><span class="token number" style="color:#36acaa">10.0</span><span class="token plain">; WOW64)\&quot; \&quot;-\&quot; rt=</span><span class="token number" style="color:#36acaa">1.088</span><span class="token plain"> uct=</span><span class="token number" style="color:#36acaa">0.000</span><span class="token plain"> uht=</span><span class="token number" style="color:#36acaa">1.088</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">urt=</span><span class="token number" style="color:#36acaa">1.088</span><span class="token plain">&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;host&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> “</span><span class="token number" style="color:#36acaa">172.31</span><span class="token plain">.</span><span class="token number" style="color:#36acaa">81.81</span><span class="token plain">”</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;httpd_timestamp&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;06/May/2020:11:44:41&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;method&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;POST&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;path&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;/owners/new&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;header&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;HTTP/1.1&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;code&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">201</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;size&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">24</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;agent&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Mozilla/5.0 (Windows NT 10.0; WOW64)&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p><strong>Example 2</strong></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">EG(message, /TTY=\w+ ; PWD=([^\s]+) ; USER=(\w+) ; COMMAND=(.*)$/, path, username, cmd)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json"><pre tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;message&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> &quot;root </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> TTY=unknown ; PWD=/home/centos ; USER=root ; COMMAND=/bin/rm –rf</span></span><span class="token-line" style="color:#393A34"><span class="token plain">jmeter.log&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;pwd&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;/home/centos&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;username&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;root&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;cmd&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;/bin/rm -rf jmeter.log&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;message&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> &quot;centos </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> TTY=unknown ; PWD=/home/kevin ; USER=adam ; COMMAND=/bin/rm -</span></span><span class="token-line" style="color:#393A34"><span class="token plain">rf jmeter.log &quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;pwd&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;/home/kevin&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;username&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;adam&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;cmd&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;/bin/rm -rf jmeter.log&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="extract-pair"></a>Extract Pair<a class="hash-link" href="#extract-pair" title="Direct link to heading">#</a></h3><p>Applications often use logs to dump their internal statistics for debugging purposes. Most often, such logs will contain expressions like:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly swift"><pre tabindex="0" class="prism-code language-swift codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;name1&gt;:&lt;value1&gt;, &lt;name2&gt;:&lt;value2&gt;, …..</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>OR</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly swift"><pre tabindex="0" class="prism-code language-swift codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;name1&gt;=&lt;value1&gt;; &lt;name2&gt;=&lt;value2&gt;;….</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>In such logs, the field-value pairs can be identified with a value <em>separator</em> and a pair <em>delimiter</em>. In the first example value separator is “:” and pair delimiter is “,”; whereas in the second example, value separator is “=” and pair delimiter is “;”.</p><p>General syntax used in Extract Pairs is:</p><p><em>EP(field, /pair_delimiter/, /value_separator/, convert=[..], include=[..], exclude=[..])</em></p><table><thead><tr><th>Parameter</th><th>Use</th></tr></thead><tbody><tr><td>field</td><td>field name to which the extraction is applied, example: <strong>*message*</strong> field of the log</td></tr><tr><td>pair_delimiter</td><td>REGEX pattern which identifies the field-value pair delimiter. Pattern is enclosed in a pair of “/”.</td></tr><tr><td>value_separator</td><td>REGEX pattern which identifies the separator between field and value. Pattern is enclosed in a pair of “/”.</td></tr><tr><td>convert=[]</td><td>a list of field:type tuples, which specify how to convert the field values. If nothing is specified, all fields are considered have a string type value. <strong>Note:</strong> the field names are the names extracted from the log message itself. Example is <em>convert=(field1:int,field2:float)</em>. This is an optional field, all values are converted to string type, if not specified.</td></tr><tr><td>include=[]</td><td>if only selected fields from the extraction are to be added to the log document, list those field names. <strong>Note:</strong> include and exclude lists can not both be present at the same time. An optional field and can be omitted.</td></tr><tr><td>exclude=[]</td><td>if selected fields from the extraction are not to be added to the log document, list those field names. <strong>Note:</strong> include and exclude lists can not both be present at the same time. An optional field and can be omitted.</td></tr></tbody></table><p><strong>Example 1</strong></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token constant" style="color:#36acaa">EP</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">message</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token regex regex-delimiter" style="color:#36acaa">/</span><span class="token regex regex-source language-regex" style="color:#36acaa">,</span><span class="token regex regex-delimiter" style="color:#36acaa">/</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token regex regex-delimiter" style="color:#36acaa">/</span><span class="token regex regex-source language-regex" style="color:#36acaa">=</span><span class="token regex regex-delimiter" style="color:#36acaa">/</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> convert</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">price</span><span class="token operator" style="color:#393A34">:</span><span class="token plain">int</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>From the field message, extract field-value pairs where pair_delimiter is “,” and value separator is “=”. Convert the value for field “price” to integer.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json"><pre tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;message&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;name=Kevin,user_id=3212,order_id=234,price=240.56&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Kevin&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;user_id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;3212&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;order_id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;234&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;price&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">241</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;message&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;name=larry,user_id=1111,order_id=100,price=123&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;larry&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;user_id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;1111&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;order_id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;100&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;price&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">123</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;message&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;process completed in 20s, and details=HEXA3413&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;and details&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;HEXA3413&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p><strong>Note:</strong> in the above example</p><ul><li>Field “price”, if present is converted to Integer. In the 3 rd message field, “price” is not present</li><li>In the 3 rd message, notice that the field name is taken as “and details”. This is because the pair delimiter was specified as “,” and anything between “,” (pair delimiter) and “=” (value separator) is taken as a field name</li></ul><p><strong>Example 2</strong></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token constant" style="color:#36acaa">EP</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">message</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token regex regex-delimiter" style="color:#36acaa">/</span><span class="token regex regex-source language-regex" style="color:#36acaa">,|(.*,\s+and)</span><span class="token regex regex-delimiter" style="color:#36acaa">/</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token regex regex-delimiter" style="color:#36acaa">/</span><span class="token regex regex-source language-regex" style="color:#36acaa">=</span><span class="token regex regex-delimiter" style="color:#36acaa">/</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> exclude</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> convert</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">price</span><span class="token operator" style="color:#393A34">:</span><span class="token plain">float</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> order_id</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">From the field message, extract field-value pairs delimited by text matching the pattern /,|(.*,\s+and)/ and has a value separator “=”. Note that the pair delimiter has a REGEX pattern which defines multiple delimiters. Each delimiter is separated by “|”.</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Options specified here are:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">“,” – comma</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">OR</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">“.*,\s+and’ - a string with any number of characters(.*), followed by a “,” followed by any number of white space characters(\s+) and followed by the string “and”.</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Following log messages will illustrate the use of this extraction</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json"><pre tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;message&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;name=Kevin,user_id=3212,order_id=234,price=240.56&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;user_id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;3212&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;order_id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">234</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;price&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">240.56</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;message&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;name=larry,user_id=1111,order_id=100,price=123&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;user_id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;1111&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;order_id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;price&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">123</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;message&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;process completed in 20s, and details=HEXA3413&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;details&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;HEXA3413&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><ul><li>In the 1 st and 2 nd example messages, pair delimiter used was “,”.</li><li>In the 3 rd example message, the pair delimiter is “process completed in 20s, and”</li><li>Also note, in messages 1 and 2, the field “name” was extracted, but was not added to the output document, because of the “exclude” option.</li></ul><p><strong>Example 3</strong></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">message</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">user_id </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> price</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">with</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">EP</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">message</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token regex regex-delimiter" style="color:#36acaa">/</span><span class="token regex regex-source language-regex" style="color:#36acaa">,</span><span class="token regex regex-delimiter" style="color:#36acaa">/</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token regex regex-delimiter" style="color:#36acaa">/</span><span class="token regex regex-source language-regex" style="color:#36acaa">=</span><span class="token regex regex-delimiter" style="color:#36acaa">/</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> include</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">price</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json"><pre tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;message&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;name=Kevin,user_id=3212,order_id=234,price=240.56&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;price&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> “</span><span class="token number" style="color:#36acaa">240.56</span><span class="token plain">”</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;message&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;name=larry,user_id=1111,order_id=100,price=123&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;price&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> “</span><span class="token number" style="color:#36acaa">123</span><span class="token plain">”</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;message&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;process completed in 20s, and details=HEXA3413&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Since <strong>include</strong> option had the field “price”, only those documents where field “price” was found were updated. 3 rd document though matched the delimiter and separator, did not have the field “price”.</p><p><strong>Example 4</strong></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token constant" style="color:#36acaa">EP</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">message</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token regex regex-delimiter" style="color:#36acaa">/</span><span class="token regex regex-source language-regex" style="color:#36acaa">(.*PID.*?(?=\w+=))|(\})|(\{)|(\s(?=\w+=))</span><span class="token regex regex-delimiter" style="color:#36acaa">/</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token regex regex-delimiter" style="color:#36acaa">/</span><span class="token regex regex-source language-regex" style="color:#36acaa">=</span><span class="token regex regex-delimiter" style="color:#36acaa">/</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> exclude</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> startTime</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> endTime</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> convert</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">count</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> minimum</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> float</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> mean</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> float</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> maximum</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> float</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Another example using a complex delimiter, with exclude option and convert options.
Multiple pair delimiters are used.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json"><pre tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;message&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> &quot;StatisticsLogTask - PID1 - context=Execution Fill </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">subContext=Order Update section=Top Level startTime=</span><span class="token number" style="color:#36acaa">2019</span><span class="token number" style="color:#36acaa">-12</span><span class="token number" style="color:#36acaa">-17</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">23</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">59</span><span class="token plain"> endTime=</span><span class="token number" style="color:#36acaa">2019</span><span class="token number" style="color:#36acaa">-12</span><span class="token number" style="color:#36acaa">-20</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">00</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">00</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> count=</span><span class="token number" style="color:#36acaa">3</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">minimum=</span><span class="token number" style="color:#36acaa">1.0</span><span class="token plain"> mean=</span><span class="token number" style="color:#36acaa">5.0</span><span class="token plain"> maximum=</span><span class="token number" style="color:#36acaa">21.0</span><span class="token plain">&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;context&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Execution Fill&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;subContext&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Order Update&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;section&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Top Level&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;count&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;minimum&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;maximum&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">21</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;mean&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;message&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> &quot;StatisticsLogTask - PID2 - context=Execution Fill </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">subContext=Order Placed section=Mid Level startTime=</span><span class="token number" style="color:#36acaa">2019</span><span class="token number" style="color:#36acaa">-12</span><span class="token number" style="color:#36acaa">-17</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">23</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">59</span><span class="token plain"> endTime=</span><span class="token number" style="color:#36acaa">2019</span><span class="token number" style="color:#36acaa">-12</span><span class="token number" style="color:#36acaa">-20</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">00</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">00</span><span class="token plain"> count=</span><span class="token number" style="color:#36acaa">6</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">minimum=</span><span class="token number" style="color:#36acaa">0.813</span><span class="token plain"> mean=</span><span class="token number" style="color:#36acaa">7.9</span><span class="token plain"> maximum=</span><span class="token number" style="color:#36acaa">13.0</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;context&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Execution Fill&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;subContext&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Order Placed&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;section&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Mid Level&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;count&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;minimum&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.813</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;maximum&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">13</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;mean&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">7.9</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>In the extraction, multiple pair delimiters were specified</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token regex regex-delimiter" style="color:#36acaa">/</span><span class="token regex regex-source language-regex" style="color:#36acaa">(.*PID.*?(?=\w+=))|(\})|(\{)|(\s(?=\w+=))</span><span class="token regex regex-delimiter" style="color:#36acaa">/</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>StatisticsLogTask - PID1 - context=Execution Fill (subContext=Order Update section=Top Level startTime=2019-12-17 23:59 endTime=2019-12-20 00:00} count=3 minimum=1.0 mean=5.0 maximum=21.0 </p><p>StatisticsLogTask - PID2 - context=Execution Fill (subContext=Order Place section=Mid Level startTime=2019-12-17 23:59 endTime=2019-12-20 00:00} count=6 minimum=0.813 mean=7.3 maximum=13.0 </p><p>Value pairs identified by the pair delimiter pattern is shown in the above picture.</p><p>Though startTime and endTime are extracted, but they are excluded.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="tools-and-tips"></a>Tools and Tips<a class="hash-link" href="#tools-and-tips" title="Direct link to heading">#</a></h3><p>Java REGEX testing tools can be used to validate the REGEX patterns used for extractions. A web tool like <a href="https://www.freeformatter.com/java-regex-tester.html" target="_blank" rel="noopener noreferrer">https://www.freeformatter.com/java-regex-tester.html</a> can be used for this.</p><p>Pattern used in extract values (EV) should match the sub-strings you intend to extract. For example, to extract the timestamps from the following message, a pattern like below can be used</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token regex regex-delimiter" style="color:#36acaa">/</span><span class="token regex regex-source language-regex" style="color:#36acaa">\d+-\d+- \d+\s+\d+:\d+</span><span class="token regex regex-delimiter" style="color:#36acaa">/</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p><strong>Extract Value Pattern</strong></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">\d</span><span class="token operator" style="color:#393A34">+</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">\d</span><span class="token operator" style="color:#393A34">+</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">\d</span><span class="token operator" style="color:#393A34">+</span><span class="token plain">\s</span><span class="token operator" style="color:#393A34">+</span><span class="token plain">\d</span><span class="token operator" style="color:#393A34">+</span><span class="token operator" style="color:#393A34">:</span><span class="token plain">\d</span><span class="token operator" style="color:#393A34">+</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token known-class-name class-name">String</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token maybe-class-name">StatisticsLogTask</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">PID1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> context</span><span class="token operator" style="color:#393A34">=</span><span class="token maybe-class-name">Execution</span><span class="token plain"> </span><span class="token maybe-class-name">Fill</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">subContext</span><span class="token operator" style="color:#393A34">=</span><span class="token maybe-class-name">Order</span><span class="token plain"> </span><span class="token maybe-class-name">Update</span><span class="token plain"> section</span><span class="token operator" style="color:#393A34">=</span><span class="token maybe-class-name">Top</span><span class="token plain"> </span><span class="token maybe-class-name">Level</span><span class="token plain"> startTime</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">2019</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">12</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">17</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">23</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">59</span><span class="token plain"> endTime</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">2019</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">12</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">20</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">00</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">00</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> count</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">3</span><span class="token plain"> minimum</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">1.0</span><span class="token plain"> mean</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">5.0</span><span class="token plain"> maximum</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">21.0</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token maybe-class-name">StatisticsLogTask</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">PID2</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token maybe-class-name">Context</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token maybe-class-name">Execution</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">Fill</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">subContext</span><span class="token operator" style="color:#393A34">=</span><span class="token maybe-class-name">Order</span><span class="token plain"> </span><span class="token maybe-class-name">Place</span><span class="token plain"> section</span><span class="token operator" style="color:#393A34">=</span><span class="token maybe-class-name">Mid</span><span class="token plain"> </span><span class="token maybe-class-name">Level</span><span class="token plain"> startTime</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">2019</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">12</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">17</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">23</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">59</span><span class="token plain"> endTime</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">2019</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">12</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">20</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">00</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">00</span><span class="token plain"> count</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">6</span><span class="token plain"> minimum</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">0.813</span><span class="token plain"> mean</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">7.9</span><span class="token plain"> maximum</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">13.0</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><table><thead><tr><th>Match #</th><th>Group index</th><th>Start index</th><th>End index</th><th>Group content</th></tr></thead><tbody><tr><td>1</td><td>0</td><td>103</td><td>119</td><td>2019-12-17 23:59</td></tr><tr><td>2</td><td>0</td><td>128</td><td>144</td><td>2019-12-20 00:00</td></tr></tbody></table><p>Extract Group allows to apply a REGEX to the field and extract only the groups identified (i.e. patterns enclosed in parentheses). As an example the following group REGEX when applied to the string below will result in the following groups.</p><p><strong>Extract group pattern</strong></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">\d</span><span class="token operator" style="color:#393A34">+</span><span class="token plain">\</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">\d</span><span class="token operator" style="color:#393A34">+</span><span class="token plain">\</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">\d</span><span class="token operator" style="color:#393A34">+</span><span class="token plain">\</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">\d</span><span class="token operator" style="color:#393A34">+</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> \</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">[</span><span class="token operator" style="color:#393A34">^</span><span class="token plain">\</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">]</span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> \</span><span class="token operator" style="color:#393A34">+</span><span class="token plain">\d</span><span class="token operator" style="color:#393A34">+</span><span class="token plain">\</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> \\\\\\\&quot;</span><span class="token constant" style="color:#36acaa">POST</span><span class="token plain"> \</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">topics\</span><span class="token operator" style="color:#393A34">/</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">\w</span><span class="token operator" style="color:#393A34">+</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">-</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">\w</span><span class="token operator" style="color:#393A34">+</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">HTTP</span><span class="token operator" style="color:#393A34">/</span><span class="token number" style="color:#36acaa">1.0</span><span class="token plain">\\\\\\\&quot;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">\d</span><span class="token operator" style="color:#393A34">+</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">\d</span><span class="token operator" style="color:#393A34">+</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">\d</span><span class="token operator" style="color:#393A34">+</span><span class="token punctuation" style="color:#393A34">)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token known-class-name class-name">String</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10.233</span><span class="token number" style="color:#36acaa">.117</span><span class="token number" style="color:#36acaa">.0</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">26</span><span class="token operator" style="color:#393A34">/</span><span class="token maybe-class-name">Oct</span><span class="token operator" style="color:#393A34">/</span><span class="token number" style="color:#36acaa">2020</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">22</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">30</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">00</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token number" style="color:#36acaa">0000</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> \\\&quot;</span><span class="token constant" style="color:#36acaa">POST</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain">topics</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">metric</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">grqqwwi7 </span><span class="token constant" style="color:#36acaa">HTTP</span><span class="token operator" style="color:#393A34">/</span><span class="token number" style="color:#36acaa">1.0</span><span class="token plain">\\\&quot;</span><span class="token number" style="color:#36acaa">200</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">12602</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">12</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">io</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">confluent</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">rest</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">utils</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">requests</span><span class="token punctuation" style="color:#393A34">)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Copy the pattern and string to the java-regex-tester. Observe the resultant matches and groups. In Extract Group, the values extracted in non-zero group index are used.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">10.233.177.0 - - [26/Oct/2020:22:30:00 +0000]  \\\&quot;Post  /topica/metric-grqqwwi7  HTTP/1.0\\\&quot;  200  12602  12(io.confluent.reat-utile.requests)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><table><thead><tr><th>Match #</th><th>Group index</th><th>Start index</th><th>End index</th><th>Group content</th></tr></thead><tbody><tr><td>1</td><td>0</td><td>0</td><td>106</td><td>10.233.117.0--[26/Oct/2000:22:30:00 +0000] \\&quot;POST /topics/metric-grqqwwi7 HTTP/1.0\\* 200 1260212</td></tr><tr><td>1</td><td>1</td><td>0</td><td>12</td><td>10.233.117.0</td></tr><tr><td>1</td><td>2</td><td>63</td><td>69</td><td>metric</td></tr><tr><td>1</td><td>3</td><td>70</td><td>78</td><td>grqqwwi7</td></tr><tr><td>1</td><td>4</td><td>92</td><td>95</td><td>200</td></tr><tr><td>1</td><td>5</td><td>96</td><td>101</td><td>12602</td></tr><tr><td>1</td><td>6</td><td>103</td><td>106</td><td>12</td></tr></tbody></table><ul><li><p>To extract value pairs, pair-delimiter should match the boundaries and all other symbols which are needed to split the string into an array of pairs. Each pair is again split, based on value- separator pattern</p></li><li><p>SnappyFlow provides following built-in regex patterns, these built-in patterns can be used in place of a REGEX required in EV, EP or EG feature extraction constructs. Built-in pattern names are encapsulated in “$” </p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">$hostname$ - hostname string, e.g.apmmanager.snappyflow.io</span></span><span class="token-line" style="color:#393A34"><span class="token plain">$url$ - URL, e.g. https://apmmanager.snappyflow.io</span></span><span class="token-line" style="color:#393A34"><span class="token plain">$file_path$ - UNIX file path, e.g. /usr/share/nginx/html/theme-chrome.js</span></span><span class="token-line" style="color:#393A34"><span class="token plain">$float$ - floating point number, e.g.31.45</span></span><span class="token-line" style="color:#393A34"><span class="token plain">$integer$ - integer number, e.g. 19345</span></span><span class="token-line" style="color:#393A34"><span class="token plain">$alphanumeric$ - alpha-numeric characters, e.g. admin1</span></span><span class="token-line" style="color:#393A34"><span class="token plain">$alphanumericspecial$ - alpha-numeric with hyphen and underscore, e.g. date_time</span></span><span class="token-line" style="color:#393A34"><span class="token plain">$string$ - a string encapsulated in ‘ (single quote) or “ (double quote)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">$date$ - date string, e.g. 02-04-2020</span></span><span class="token-line" style="color:#393A34"><span class="token plain">$datetime$ - date with time string, e.g. 02-04-20 21:41:59</span></span><span class="token-line" style="color:#393A34"><span class="token plain">$time$ - time string, e.g. 21:41:59</span></span><span class="token-line" style="color:#393A34"><span class="token plain">$ipv4addr$ - IPv4 Address, e.g. 172.31.22.98</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></li><li><p>Example extraction with built-in regex patterns</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json"><pre tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">message</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;*72281 open() &quot;</span><span class="token plain">/usr/share/nginx/html/theme-chrome.js</span><span class="token string" style="color:#e3116c">&quot; failed (2: No such file or directory), client: 172.31.22.98, server: _, request: &quot;</span><span class="token plain">GET /theme-chrome.js HTTP/</span><span class="token number" style="color:#36acaa">1.1</span><span class="token string" style="color:#e3116c">&quot;, host: &quot;</span><span class="token plain">apmmanager.snappyflow.io&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> referrer</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> “https</span><span class="token operator" style="color:#393A34">:</span><span class="token comment" style="color:#999988;font-style:italic">//apmmanager.snappyflow.io/”</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Extraction</span></span><span class="token-line" style="color:#393A34"><span class="token plain">message</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;No such file or directory&quot;</span><span class="token plain"> with EG(message</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">/($integer$) open\(\) \&quot;($file_path$)\&quot; failed \(</span><span class="token number" style="color:#36acaa">2</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> No such file or directory\)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> client</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> ($ipv4addr$)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> server</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> (</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">^</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">*)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> request</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> \&quot;(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">^\&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">*)\&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> host</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> \&quot;($hostname$)\&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> referrer</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> \&quot;($url$)\&quot;/</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">m_size</span><span class="token operator" style="color:#393A34">:</span><span class="token plain">int</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> m_file</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> m_client</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> m_server</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> m_request</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> m_host</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> m_referrer)</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">The extraction operation above will extract the fields m_size</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">72281</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> m_file</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> /usr/share/nginx/html/theme-chrome.js</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> m_client</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">172.31</span><span class="token plain">.</span><span class="token number" style="color:#36acaa">22.98</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> m_server</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> _</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> m_request</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> GET /theme-chrome.js HTTP/</span><span class="token number" style="color:#36acaa">1.1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> m_host</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> apmmanager.snappyflow.io and m_referrer</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> https</span><span class="token operator" style="color:#393A34">:</span><span class="token comment" style="color:#999988;font-style:italic">//apmmanager.snappyflow.io/</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/ram-dot-kumar/SFwebsite.git/docs/Log_management/feature_extraction.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/Log_management/log_overview"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Log Overview Search</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/Log_management/archival"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Archival »</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#examples" class="table-of-contents__link">Examples</a></li><li><a href="#extract-group" class="table-of-contents__link">Extract Group</a></li><li><a href="#extract-pair" class="table-of-contents__link">Extract Pair</a></li><li><a href="#tools-and-tips" class="table-of-contents__link">Tools and Tips</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2021</div></div></div></footer></div>
<script src="/assets/js/runtime~main.e213df21.js"></script>
<script src="/assets/js/main.ef135cbf.js"></script>
</body>
</html>