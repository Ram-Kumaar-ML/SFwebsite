<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<title data-react-helmet="true">Log Onboarding | Documentation</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://docs.snappyflow.io//docs/Log_management/log_overview"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Log Onboarding | Documentation"><meta data-react-helmet="true" name="description" content="SnappyFlow uses Elasticsearch as its datastore for logs, metrics and traces.  SnappyFlow has built a search language which is simple and easy to use  for analyzing logs , extracting metadata from unstructured logs and enhancing the logs with extracted metadata."><meta data-react-helmet="true" property="og:description" content="SnappyFlow uses Elasticsearch as its datastore for logs, metrics and traces.  SnappyFlow has built a search language which is simple and easy to use  for analyzing logs , extracting metadata from unstructured logs and enhancing the logs with extracted metadata."><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://docs.snappyflow.io//docs/Log_management/log_overview"><link data-react-helmet="true" rel="alternate" href="https://docs.snappyflow.io//docs/Log_management/log_overview" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://docs.snappyflow.io//docs/Log_management/log_overview" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.52354062.css">
<link rel="preload" href="/assets/js/runtime~main.ac9f20f1.js" as="script">
<link rel="preload" href="/assets/js/main.114250ad.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://www.snappyflow.io/" target="_self" rel="noopener noreferrer" class="navbar__brand"><img src="/img/logo-new.png" alt="SnappyFlow" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo-new.png" alt="SnappyFlow" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title"></b></a><a class="navbar__item navbar__link navbar__link--active" target="_self" href="/">Docs</a></div><div class="navbar__items navbar__items--right"><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">🌞</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Search" aria-label="Search" class="navbar__search-input search-bar"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist" href="#">Quick Start Guide</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Quick_Start/getting_started">Getting Started</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Integrations/os/linux/sfagent_linux">sfAgent Installation on Linux</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Integrations/os/windows/sfagent_windows">sfAgent Installation on Windows</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Quick_Start/sfpoller_setup">sfPoller Setup</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Integrations/kubernetes/sfkubeagent_installation">Monitoring Application Pods with sfKubeAgent</a></li></ul></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Tracing</a></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist" href="#">Integrations</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Integrations/overview">Overview</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">JAVA</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Nginx</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Kubernetes</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Postgres</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">MySQL</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Apache</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Operating Systems</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">StatsD</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Integrations/activemq">ActiveMQ</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Go</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Kafka</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Integrations/zookeeper">ZooKeeper</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Integrations/mongodb">MongoDB</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Integrations/redis">Redis</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Integrations/haproxy">HAProxy</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Integrations/aws_lambda">AWS Lambda</a></li></ul></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Log Management</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/Log_management/log_overview">Log Overview Search</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Log_management/feature_extraction">Feature Extraction</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Log_management/archival">Archival</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Log_management/log_signatures">Log Signatures</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Log_management/etl_jobs">ETL Jobs</a></li></ul></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Dashboards</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Alerts &amp; Notifications</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Log Onboarding</h1></header><p>SnappyFlow uses Elasticsearch as its datastore for logs, metrics and traces.  SnappyFlow has built a search language which is simple and easy to use  for analyzing logs , extracting metadata from unstructured logs and enhancing the logs with extracted metadata.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="document-format-in-snappyflow"></a>Document format in SnappyFlow<a class="hash-link" href="#document-format-in-snappyflow" title="Direct link to heading">#</a></h2><p>SnappyFlow stores all information in JSON format to the datastore. A sample log document is shown below:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json"><pre tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token property" style="color:#36acaa">&quot;node&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;ip-172-31-14-187&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;_plugin&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;linux-syslog&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;ident&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;sshd&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;_tag_Name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;demo-presto-worker-0&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;level&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;info&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;@timestamp&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;2020-10-15T18:35:13.000000000Z&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;time&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;1602786913000&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;pid&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;14153&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;_documentType&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;syslog&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;host&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;ip-172-31-14-187&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;_tag_uuid&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;0aa46894f321&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;_tag_projectName&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;presto&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;file&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;/var/log/auth.log&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;signatureKey&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;8276318930445510094&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;_tag_appName&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;presto&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;message&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Invalid user ofandino from 152.32.180.15 port 56712&quot;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="types-of-search"></a>Types of search<a class="hash-link" href="#types-of-search" title="Direct link to heading">#</a></h2><ul><li>Searching across all fields and values</li><li>Range queries for numeric data</li><li>Wildcard search</li><li>Regular expression search</li><li>Logical operations like AND, OR, NOT to build complex searches</li></ul><p>SnappyFlow datastore, processes fields which contain string values  differently. The string is stored as a list of tokens. Each token is a  unique word in the string. For example if the field “message” has a  value</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json"><pre tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">“user</span><span class="token operator" style="color:#393A34">:</span><span class="token plain">admin CMD=rm –rf temp PWD=/home/admin PATH=var.log.secure”.</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>This string is converted as a list of tokens as follows:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json"><pre tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">“user</span><span class="token operator" style="color:#393A34">:</span><span class="token plain">admin CMD rm rf temp PWD home admin PATH var.log.secure”.</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Note that in the above tokenization, character  “:” and character “.” Are treated differently. They are considered as  alpha-numeric, for the purpose of tokenization and are retained, if they are preceded and succeeded by alpha-numeric characters between the “:”.</p><p> A search of string user\:admin will be successful in the above document. Note that “:” was escaped using “\” in the search string, as “:” is considered a reserved character. See below for more on reserved characters.</p><p> Also note, that a search string temp home will also match the above string, as the words temp and home are present in the above string, even though they do not appear in consecutive positions. A phrase search “temp home” (the search string is encapsulated between “), will match only if temp and home appear together in the string and are in the same order.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="snappyflow-query-language-operator-support"></a>SnappyFlow Query language operator support<a class="hash-link" href="#snappyflow-query-language-operator-support" title="Direct link to heading">#</a></h2><table><thead><tr><th>Operator</th><th>Description</th><th>Example</th><th>Explanation</th></tr></thead><tbody><tr><td>:</td><td>Search for a value within a field</td><td>level:info</td><td>Get all documents where field “level” has value “info”</td></tr><tr><td>&amp;&amp;</td><td>AND operation</td><td>info &amp;&amp; ident:sshd</td><td>Get all documents where value “info” is present in any of the fields AND “ident” field has value “sshd”</td></tr><tr><td>||</td><td>OR operation</td><td>level:warn || level:error</td><td>Get all documents where “level” field has value “warn” or “level” field has value “error”</td></tr><tr><td>&quot;&quot;</td><td>Phrase searches</td><td>message: &quot;Invalid</td><td>Get all documents where “message” field has a phrase “Invalid user”. Note: searches are case insensitive. “Invalid user” will match only if token “Invalid” and token “user” are present in the string in the same order.</td></tr><tr><td>&gt;</td><td>Greater than</td><td>pid:&gt;14153</td><td>Get all documents where field “pid” has values greater than 14153</td></tr><tr><td>&lt;</td><td>Lesser than</td><td>pid:&lt;14153</td><td>Get all documents where field “pid” has values less than 14153</td></tr><tr><td>&gt;=</td><td>Greater than or equal</td><td>pid:&gt;=14153</td><td>Get all documents where field “pid” has values greater than or equal to 14153</td></tr><tr><td>&lt;=</td><td>Lesser than or equal</td><td>pid:&lt;14153</td><td>Get all documents where field “pid” has values less than or equal to 14153</td></tr><tr><td>()</td><td>Grouping</td><td>(pid:(&gt;14000 &amp;&amp; &lt;=15000) || level:error) &amp;&amp; ident:sshd</td><td>Get all documents where field “pid” is in the range 14000 – 14999 OR field “level” has value “error”. From the above search get only those documents where field “ident” has value “sshd”</td></tr><tr><td>-</td><td>NOT operation</td><td>level:-(info || warn)</td><td>Get all documents where field “level” does not contain value “info” or “warn”</td></tr><tr><td>?</td><td>Single character wildcard</td><td>_plugin: sys???</td><td>Get all documents where the field plugin has a word sys followed by 3 characters.</td></tr><tr><td>*</td><td>Zero or more characters wildcard</td><td>message: <em>var</em></td><td>Get all documents where “message” field contains a string var preceded by any characters and succeeded by any characters. For example in the message “user:admin CMD=rm –rf temp PWD=/home/admin PATH=var.log.secure”, <em>var</em> matches var.log.secure</td></tr><tr><td>//</td><td>Pattern searches</td><td>message: /[0-9]+.[0-9]+.[0-9]+.[0-9]+/</td><td>Get all documents which contain an IP address pattern. In the sample log  document with the message field containing &quot;Invalid user ofandino from  152.32.180.15 port 56712&quot; , the regex pattern will match 152.32.180.15.</td></tr><tr><td>\ </td><td>Escape sequence</td><td>message: sudo\:linux</td><td>Some of the special characters need to be escaped if they are part of a search string. Special characters to be escaped are: &amp; | &quot; = : ( ) [ ] - ? * / \ </td></tr><tr><td><em>exists</em>:</td><td>Field name search</td><td><em>exists</em>:pid</td><td>Get all logs</td></tr></tbody></table><p><strong>Note:</strong></p><ul><li><p>Field names are case sensitive i.e. latency: 20 and LATENCY: 20 will give different results.</p></li><li><p>Field values are case insensitive i.e. name: KEVIN and name: kevin will give the same results.</p></li><li><p>Applying range queries i.e. key: &gt;=200 etc. to text fields give  unpredictable results. Make sure to apply such queries on numeric fields only. Range queries cannot be used without specifying the field name  i.e. &gt;=20 is not a valid query.</p></li><li><p>Wildcards cannot be used in phrase searches i.e. &quot;*error&quot; or &quot;er??r&quot; is not allowed.</p></li><li><p>Using a wildcard at the beginning of a word e.g. *ing is particularly  heavy, because all terms in the index need to be examined, just in case  they match.</p></li><li><p>Regex patterns must be  enclosed in forward slashes. Any string present between a pair of  forward slashes will be treated as a Java regex pattern. Search Regex  does not support all regex meta-characters. </p><p>For details, </p><p><a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/regexp-syntax.html" target="_blank" rel="noopener noreferrer">https://www.elastic.co/guide/en/elasticsearch/reference/current/regexp-syntax.html</a>
Patterns are anchored by default i.e. they must match an entire Elasticsearch token.</p></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="examples"></a>Examples<a class="hash-link" href="#examples" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="basic-search"></a>Basic Search<a class="hash-link" href="#basic-search" title="Direct link to heading">#</a></h3><p><strong>Datastore has following documents</strong></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json"><pre tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;pid&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3245</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;upstream_response_time&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;URL&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;https://www.elastic.co/guide/en/elasticsearch/reference&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token property" style="color:#36acaa">&quot;pid&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2445</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;upstream_response_time&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;URL&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;https://www.elastic.co/guide/en/machine-learning&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token property" style="color:#36acaa">&quot;pid&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3246</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;upstream_response_time&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;URL&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;https://docker-hub/pricing&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token property" style="color:#36acaa">&quot;message&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;docker image built&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;pid&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1000</span><span class="token punctuation" style="color:#393A34">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><table><thead><tr><th align="left">Search Query &amp; Logic</th><th>Result</th><th>Results explained</th></tr></thead><tbody><tr><td align="left">pid: 3?4?</td><td>Matches documents 1, 3.</td><td>Get all documents with pid field value matching the pattern 3?4? (? matches any character)</td></tr><tr><td align="left">upstream_response_time:&gt;5 &amp;&amp; elasticsearch</td><td>Matches document 1</td><td>Get all documents where field upstream_response_time key has a value  greater than 5 AND the string elasticsearch is present in any of the  fields.</td></tr><tr><td align="left">elastic &amp;&amp; machine-learning</td><td>No documents are matched.</td><td>Get all documents where strings elastic AND machine-learning are present in any of the fields.  Though string elastic is present in documents 1, 2; it does not appear as a  standalone term. This is because, special character “.” is handled  differently in tokenization and is tokenized as <a href="http://www.elastic.co." target="_blank" rel="noopener noreferrer">www.elastic.co.</a> If the search query is modified as <a href="http://www.elastic.co" target="_blank" rel="noopener noreferrer">www.elastic.co</a> &amp;&amp; machine-learning, document 2 will match the search. Alternatively, search elasstic &amp;&amp; machine-learning, will also return the same result</td></tr><tr><td align="left">https docker hub pricing</td><td>Matches documents 3 and 4.</td><td>Get all documents which contain the words https OR docker OR hub or pricing in any order. Matches documents 3 and 4. Document 3 has all the terms and Document 4  has the term docker. If the intent is to search for a document with all  the terms in the same order, then the search should be modified to  “https docker hub pricing”. Note the phrase is enclosed in double  quotes. This search will match only document 3. Also note the words http docker hub pricing are connected with special characters in document 3. But the search is on the tokenized version of the document and hence  all special characters are removed.</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="logical-operations-and-wild-card-usage"></a>Logical Operations and wild card usage<a class="hash-link" href="#logical-operations-and-wild-card-usage" title="Direct link to heading">#</a></h3><p><strong>Datastore contains following documents</strong></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json"><pre tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token property" style="color:#36acaa">&quot;message&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Disconnected from 118.24.197.243 port 35662 [preauth]&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token property" style="color:#36acaa">&quot;message&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Unregistered Authentication Agent for unix-session:7  (system bus name :1.89, object path  /org/freedesktop/PolicyKit1/AuthenticationAgent, locale en_IN)  (disconnected from bus)&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token property" style="color:#36acaa">&quot;responseCode&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;400&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;responseMessage&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Null</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token property" style="color:#36acaa">&quot;message&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;request received from IP1 and redirected to IP2&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;responseCode&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;200&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token property" style="color:#36acaa">&quot;message&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;ValueError(…)&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token property" style="color:#36acaa">&quot;message&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;ArithmeticException(…)&quot;</span><span class="token punctuation" style="color:#393A34">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p><strong>Examples</strong></p><p><strong>Search Query:</strong>
&quot;disconnected from&quot;
Get all documents that contain the terms disconnected and from. The terms should appear together in the same order in the document.</p><p><strong>Results and explanation:</strong>
Matches documents 1 and 2.</p><p>Notice that in document 1, the word disconnected appears as Disconnected. Since search is always case-insensitive, document 1 is also matched.</p><p><strong>Search Query:</strong>
message: (disconnected &amp;&amp; from &amp;&amp; port)
Get all documents that contain the words disconnected and from and port</p><p><strong>Results and explanation:</strong>
Matches document 1</p><p>Note: words need not appear together and they may appear in any order.</p><p><strong>Search Query:</strong>
message: (disconnect* port)
Get all documents that contain word starting with disconnect or a word port.</p><p><strong>Results and explanation:</strong>
Matches documents 1 and 2.</p><p>This is interpreted asmessage: (disconnect<em> || port)
disconnect</em> matches all terms which start with the word disconnect and have zero or more characters after it i.e. disconnecting, disconnected and disconnect</p><p><strong>Search Query:</strong>
message: (disconnected &amp;&amp; -port)
Get all documents that has term disconnected and does not have the term port</p><p><strong>Results and explanation:</strong>
Matches document 2</p><p>-(responseCode: 400 ||
message: (<em>exception</em> || <em>error</em>))
2 This is a complete negation of the above search i.e. NOT operator is applied to above search</p><p><strong>Search Query:</strong>
responseCode: 400 || message: (<em>exception</em> || <em>error</em>)</p><p><strong>Results and explanation:</strong>
Matches 3, 5 and 6</p><p><em>exception</em> matches any word that contains the string exception and similarly <em>error</em>.
The term ArithmeticException(...) matches <em>exception</em> and ValueError(...) matches <em>error</em></p><p><strong>Search Query:</strong>
-(responseCode: 400 || message: (<em>exception</em> || <em>error</em>))
This search is a total negation of the previous search.</p><p><strong>Results and explanation:</strong>
Matches document 4</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="regex-patterns"></a>Regex Patterns<a class="hash-link" href="#regex-patterns" title="Direct link to heading">#</a></h3><p><strong>Datastore contains following documents</strong></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json"><pre tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token property" style="color:#36acaa">&quot;message&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;No identification string for 118.24.197.243&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token property" style="color:#36acaa">&quot;message&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;No identification string for 119:25.200.255&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token property" style="color:#36acaa">&quot;message&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Received bad request from 119:25.200.255&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token property" style="color:#36acaa">&quot;message&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;pam_unix(sshd:auth): authentication failure; logname= uid=0 euid=0 tty=ssh ruser= rhost=203.195.182.3&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token property" style="color:#36acaa">&quot;message&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Authentication failure for user admin&quot;</span><span class="token punctuation" style="color:#393A34">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p><strong>Examples</strong></p><p><strong>Search Query:</strong></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">message: /[0-9]+.[0-9]+.[0-9]+.[0-9]+/</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Get all documents where message field contains an IP address pattern.
<strong>Results and explanation:</strong></p><p>Matches documents 1,2,3,4</p><p><strong>Search Query:</strong></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">(message: /119.25.[0-9]+.[0-9]+/)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Get all documents where message field contains an IP Address pattern with a network address 119.25</p><p><strong>Results and explanation:</strong></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">Matches document 2 and 3</span></span><span class="token-line" style="color:#393A34"><span class="token plain">auth* &amp;&amp; failure &amp;&amp;-/[0-9]+.[0-9]+.[0-9]+.[0-9]+/ 5</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Any key’s value needs to consist of auth*, failure but not an IP i.e. [0-9]+.[0-9]+.[0-9]+.[0- 9]+</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p><strong>Search Query:</strong></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">auth* &amp;&amp; failure &amp;&amp; -/[0-9]+.[0-9]+.[0-9]+.[0-9]+/</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Get all documents where an IP address pattern is NOT present in any of the fields and contains a word starting with auth in any of the fields AND contains the word failure in any of the fields.</p><p><strong>Results and explanation:</strong></p><p>Matches documents 5</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/ram-dot-kumar/SFwebsite.git/docs/Log_management/log_overview.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/Integrations/aws_lambda"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Forwarding AWS Lambda logs to SnappyFlow</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/Log_management/feature_extraction"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Feature Extraction »</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#document-format-in-snappyflow" class="table-of-contents__link">Document format in SnappyFlow</a></li><li><a href="#types-of-search" class="table-of-contents__link">Types of search</a></li><li><a href="#snappyflow-query-language-operator-support" class="table-of-contents__link">SnappyFlow Query language operator support</a></li><li><a href="#examples" class="table-of-contents__link">Examples</a><ul><li><a href="#basic-search" class="table-of-contents__link">Basic Search</a></li><li><a href="#logical-operations-and-wild-card-usage" class="table-of-contents__link">Logical Operations and wild card usage</a></li><li><a href="#regex-patterns" class="table-of-contents__link">Regex Patterns</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2021</div></div></div></footer></div>
<script src="/assets/js/runtime~main.ac9f20f1.js"></script>
<script src="/assets/js/main.114250ad.js"></script>
</body>
</html>