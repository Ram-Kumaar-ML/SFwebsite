# Sending notifications to PagerDuty



## Overview

- SnappyFlow sends alerts/notifications to PagerDuty and alerts can be configured to fit your existing business processes
- The integration is simple to setup and takes less than 5 minutes
- Filter conditions can be added to alerts before they are sent to PagerDuty cutting down on unnecessary notifications

## How it Works

Any alerts configured in your SnappyFlow account for a given profile/user can be sent to PagerDuty. Once an alert is generated in SnappyFlow, a notification is triggered and communicated to PagerDuty via an API call. An integration key (generated by PagerDuty) is used to facilitate this API call.

## Requirements

- PagerDuty account access with User, Admin, Manager, Global Admin or Account Owner roles
- Alerts configured in your SnappyFlow portal for specific users/profiles
- SnappyFlow trial account users need to upgrade their trial account to Premium access. To do so, login to SnappyFlow portal and click on “Go to Portal”. On the portal page, click on your account on the top right corner and select “Upgrade Account”. Once the account is upgraded, you will receive a confirmation email stating the same

## Support

If you need help with this integration, please contact [support@snappyflow.io](mailto:support@snappyflow.io)

## Integration Walkthrough

Integration with SnappyFlow is a simple two-step process.

- Create or use an existing service in PagerDuty to generate an integration key
- Create a new notification in SnappyFlow using the integration key

### In PagerDuty

In your PagerDuty account portal

- From the Configuration menu, select Services

- There are two ways to add an integration to a service:

  - If you are adding your integration to an existing service: Click the name of the Service you want to add the integration to. Then, select the Integrations tab and click the New Integration button
  - If you are creating a new service for your integration:

  - Navigate to Services, select Service Directory and click the +New Service button
  - Give the service a name depending on the application, component or team that you wish to open incidents against (examples: "MobileApp", "Shopping Cart" or "BizOps"). Please note that when an incident is triggered, this is the service name it will be associated with
  - Add a Description of what this service represents in your infrastructure

- Enter an Integration Name in the format SnappyFlow-name (e.g., SnappyFlow-MobileApp) and select SnappyFlow from the Integration Type menu

- Click the Add Service button to save your new integration. You will be redirected to the Service home page. Click on Integrations tab

<img src="\img\pager_duty_1.png" />

- An Integration Key will be generated on this screen. Keep this key saved in a safe place, as it will be used when you configure the integration with SnapyFlow in the next section

### In SnappyFlow

- Login to [SnappyFlow](https://www.snappyflow.io/) and click on Go To Portal
- Navigate to Manage Tab and click on Profiles icon on the left
- You will now see a list of profiles/users

<img src="\img\pager_duty_2.png" />


- Select a profile by clicking on the downward facing expand button. Only alerts configured for this profile will be sent to PagerDuty
- Click on notifications and a list of existing notifications will be displayed. Click on `Add New` button on the right

<img src="\img\pager_duty_3.png" />


- Under Type, select PagerDuty

<img src="\img\pager_duty_4.png" />

- Provide a name for this notification
- Paste the integration key generated in PagerDuty and click on Add button
- Once added, the integration will appear with a green Active status

<img src="\img\pager_duty_5.png" />


- Once the integration is setup, SnappyFlow sends out a test notification to PagerDuty
- To add specific applications, navigate to Applications Tab and click on Edit Project button (highlighted by the red box below)

<img src="\img\pager_duty_6.png" />

- In the Edit Project window, click on Notification tab and select PagerDuty from the drop-down menu option. Click on Configure button to proceed

<img src="\img\pager_duty_7.png" />

- Select the integrations that were created and click on the Tick button

<img src="\img\pager_duty_8.png" />

- Click on Save and Close button to complete the process. All alerts from this project will start appearing in PagerDuty

## Removing PagerDuty integration from SnappyFlow

Navigate to the profile where PagerDuty notifications are setup and click on Trash icon to delete the integration and stop sending notifications to PagerDuty.

<img src="\img\pager_duty_9.png" />